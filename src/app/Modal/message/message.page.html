<ion-header>
  <ion-toolbar color="primary">
      <ion-buttons slot="start">
          <ion-button (click)="close()">
            <ion-icon slot="icon-only" name="close"></ion-icon>
          </ion-button>
        </ion-buttons>
    <ion-title > {{nomprenom}}
    </ion-title>
  </ion-toolbar>
  <ion-button (click)="sort()" *ngIf="alive">
    <ion-icon slot="icon-only" name="list-box"></ion-icon> <span style="margin-left:5px;">Filtrer les notifications</span> 
  </ion-button>
  <ion-button (click)="sort()" *ngIf="!alive">
    <ion-icon slot="icon-only" name="list-box"></ion-icon> <span style="margin-left:5px;">Désactiver le filtre</span> 
  </ion-button>    
</ion-header>
<ion-content padding>

  <ion-button (click)='ngOnInit()'>actualiser
  </ion-button>
      <div class="mesgs">
        <div class="msg_history" >
          <div *ngFor="let message of messages">
            
          <div *ngIf="message.itext">
            <div class="incoming_msg" >
              <div class="incoming_msg_img"> <img [src]="'assets/img/noavatar.png'" /> </div>
              <div class="received_msg">
                <div class="received_withd_msg">
                  <p>{{message.itext}}</p>
                  <span class="time_date">{{message.idate}}</span></div>
                  <br>
              </div>
            </div>
          </div>               
        <div *ngIf="message.otext">
          <div class="outgoing_msg">
            <div class="sent_msg">
              <p>{{message.otext}}</p>
              <span class="time_date"> {{message.odate}}</span> </div>
          </div>
        </div>
      </div>

        </div>


  </div>

</ion-content>
<ion-footer>
    <ion-toolbar>
        <ion-item name="sendNotif" *ngIf="ad">
            <ion-button>
              <ion-icon slot="icon-only" name="list-box"></ion-icon> <span style="margin-left:5px;">Envoyer une notification</span> 
            </ion-button>
            <ion-select  id="Itype_notif" interface="popover" [(ngModel)]="Type_notif" placeholder="" class="ddl" min-width="100vh"  okText="Ok" cancelText="Annuler">
               <ion-select-option class="ddl" value="Votre demande est en cours de traitement">En traitement</ion-select-option>
               <ion-select-option class="ddl" value="Votre colis a été pris en charge et sera expédié sous peu">Paiement accepté</ion-select-option>
               <ion-select-option class="ddl" value="Votre colis a été expédié">Expédié</ion-select-option>
               <ion-select-option class="ddl" value="Votre colis est en cours de livraison">En livraison</ion-select-option>
               <ion-select-option class="ddl" value="Votre colis a été livré">Livré</ion-select-option>
           </ion-select>
          </ion-item>
        <ion-buttons slot="start">
      </ion-buttons>
      <ion-textarea id="IMsg2Send" class="message-input" placeholder="Écrivez votre message" rows="1" autocapitalize="off" [(ngModel)]="Msg2Send"></ion-textarea>
      <ion-buttons slot="end">
        <ion-button color="primary" (click)="sendMsg();">
          <ion-icon slot="icon-only" name="md-send"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  </ion-footer>
